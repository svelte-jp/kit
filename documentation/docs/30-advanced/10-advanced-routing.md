---
title: é«˜åº¦ãªãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
---

### Restãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿

ãƒ«ãƒ¼ãƒˆã‚»ã‚°ãƒ¡ãƒ³ãƒˆ(route segments)ã®æ•°ãŒã‚ã‹ã‚‰ãªã„å ´åˆã¯ã€rest æ§‹æ–‡ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ä¾‹ãˆã° GitHub ã®ãƒ•ã‚¡ã‚¤ãƒ«ãƒ“ãƒ¥ãƒ¼ã‚¢ã®ã‚ˆã†ãªã‚‚ã®ã‚’å®Ÿè£…ã™ã‚‹å ´åˆã¯â€¦

```bash
/[org]/[repo]/tree/[branch]/[...file]
```

â€¦ã“ã®å ´åˆã€`/sveltejs/kit/tree/master/documentation/docs/04-advanced-routing.md` ã‚’ãƒªã‚¯ã‚¨ã‚¹ãƒˆã™ã‚‹ã¨ã€ä»¥ä¸‹ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ãƒšãƒ¼ã‚¸ã§ä½¿ã†ã“ã¨ãŒã§ãã¾ã™:

```js
// @noErrors
{
	org: 'sveltejs',
	repo: 'kit',
	branch: 'master',
	file: 'documentation/docs/04-advanced-routing.md'
}
```

> `src/routes/a/[...rest]/z/+page.svelte` ã¯ `/a/z` ã«ã‚‚ (ã¤ã¾ã‚Šã€ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒå…¨ããªã„å ´åˆã«ã‚‚)ã€`/a/b/z` ã‚„ `/a/b/c/z` ã¨åŒæ§˜ã«ãƒãƒƒãƒã—ã¾ã™ã€‚Rest ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®å€¤ãŒæ­£ã—ã„ã“ã¨ã‚’ã€ä¾‹ãˆã° [matcher](#matching) ã‚’ä½¿ç”¨ã™ã‚‹ãªã©ã—ã¦ç¢ºèªã—ã¦ãã ã•ã„ã€‚

#### 404 pages

Rest ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«ã‚ˆã£ã¦ã‚«ã‚¹ã‚¿ãƒ ã® 404 ã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã‚Œã‚‰ã®ãƒ«ãƒ¼ãƒˆ(routes)ãŒã‚ã‚‹ã¨ã—ã¦â€¦

```
src/routes/
â”œ marx-brothers/
â”‚ â”œ chico/
â”‚ â”œ harpo/
â”‚ â”œ groucho/
â”‚ â”” +error.svelte
â”” +error.svelte
```

â€¦ã‚‚ã— `/marx-brothers/karl` ã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã—ã¦ã‚‚ã€`marx-brothers/+error.svelte` ãƒ•ã‚¡ã‚¤ãƒ«ã¯ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚° _ã•ã‚Œã¾ã›ã‚“_ ã€‚ãªãœãªã‚‰ã©ã®ãƒ«ãƒ¼ãƒˆ(route) ã«ã‚‚ãƒãƒƒãƒã—ãªã„ã‹ã‚‰ã§ã™ã€‚ã‚‚ã—ãƒã‚¹ãƒˆã—ãŸã‚¨ãƒ©ãƒ¼ãƒšãƒ¼ã‚¸ã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã—ãŸã‘ã‚Œã°ã€ã©ã‚“ãª `/marx-brothers/*` ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«ã‚‚ãƒãƒƒãƒã™ã‚‹ãƒ«ãƒ¼ãƒˆ(route)ã‚’ä½œæˆã—ã€ãã“ã‹ã‚‰ 404 ã‚’è¿”ã™ã‚ˆã†ã«ã—ã¦ãã ã•ã„:

```diff
src/routes/
â”œ marx-brothers/
+| â”œ [...path]/
â”‚ â”œ chico/
â”‚ â”œ harpo/
â”‚ â”œ groucho/
â”‚ â”” +error.svelte
â”” +error.svelte
```

```js
/// file: src/routes/marx-brothers/[...path]/+page.js
import { error } from '@sveltejs/kit';

/** @type {import('./$types').PageLoad} */
export function load(event) {
	throw error(404, 'Not Found');
}
```

> ã‚‚ã— 404 ã®ã‚±ãƒ¼ã‚¹ã‚’ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã—ã¦ã„ãªã„å ´åˆã€[`handleError`](/docs/hooks#shared-hooks-handleerror) ã«ã‚ˆã£ã¦è¡¨ç¤ºãŒè¡Œã‚ã‚Œã¾ã™ã€‚

### Optional parameters

`[lang]/home` ã¨ã„ã†ãƒ«ãƒ¼ãƒˆã«å«ã¾ã‚Œã‚‹ `lang` ã¨ã„ã†ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯å¿…é ˆã§ã™ã€‚ã“ã‚Œã‚‰ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«ã§ãã‚‹ã¨ã€ä»Šå›ã®ä¾‹ã§ã¯ `home` ã¨ `en/home` ã®ã©ã¡ã‚‰ã‚‚åŒã˜ãƒšãƒ¼ã‚¸ã‚’æŒ‡ã™ã“ã¨ãŒã§ãã‚‹ã®ã§ã¨ã¦ã‚‚ä¾¿åˆ©ã§ã™ã€‚ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«ã‚‚ã†1ã¤æ‹¬å¼§ã‚’ä»˜ã‘ã‚‹ã“ã¨ã§ã“ã‚ŒãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™: `[[lang]]/home`

optional ã®ãƒ«ãƒ¼ãƒˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿(route parameter)ã¯ rest ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«ç¶šã‘ã¦ä½¿ç”¨ã™ã‚‹ã“ã¨ (`[...rest]/[[optional]]`) ã¯ã§ãã¾ã›ã‚“ã€‚ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯ 'greedily' ã«ãƒãƒƒãƒã—ã€optional ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯ä½¿ç”¨ã•ã‚Œãªã„ã“ã¨ã‚‚ã‚ã‚‹ãŸã‚ã§ã™ã€‚

### ãƒãƒƒãƒãƒ³ã‚°(Matching)

`src/routes/archive/[page]` ã®ã‚ˆã†ãªãƒ«ãƒ¼ãƒˆ(route)ã¯ `/archive/3` ã«ãƒãƒƒãƒã—ã¾ã™ãŒã€`/archive/potato` ã«ã‚‚ãƒãƒƒãƒã—ã¦ã—ã¾ã„ã¾ã™ã€‚ã“ã‚Œã‚’é˜²ããŸã„å ´åˆã€ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æ–‡å­—åˆ—(`"3"` ã‚„ `"potato"`)ã‚’å¼•æ•°ã«å–ã£ã¦ãã‚ŒãŒæœ‰åŠ¹ãªã‚‰ `true` ã‚’è¿”ã™ _matcher_ ã‚’ [`params`](/docs/configuration#files) ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«è¿½åŠ ã™ã‚‹ã“ã¨ã§ã€ãƒ«ãƒ¼ãƒˆ(route)ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’é©åˆ‡ã«å®šç¾©ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™â€¦

```js
/// file: src/params/integer.js
/** @type {import('@sveltejs/kit').ParamMatcher} */
export function match(param) {
	return /^\d+$/.test(param);
}
```

â€¦ãã—ã¦ãƒ«ãƒ¼ãƒˆ(routes)ã‚’æ‹¡å¼µã—ã¾ã™:

```diff
-src/routes/archive/[page]
+src/routes/archive/[page=integer]
```

ã‚‚ã—ãƒ‘ã‚¹åãŒãƒãƒƒãƒã—ãªã„å ´åˆã€SvelteKit ã¯ (å¾Œè¿°ã®ã‚½ãƒ¼ãƒˆé †ã®æŒ‡å®šã«å¾“ã£ã¦) ä»–ã®ãƒ«ãƒ¼ãƒˆã§ãƒãƒƒãƒã™ã‚‹ã‹è©¦è¡Œã—ã€ã©ã‚Œã«ã‚‚ãƒãƒƒãƒã—ãªã„å ´åˆã¯æœ€çµ‚çš„ã« 404 ã‚’è¿”ã—ã¾ã™ã€‚

> Matcher ã¯ ã‚µãƒ¼ãƒãƒ¼ã¨ãƒ–ãƒ©ã‚¦ã‚¶ã®ä¸¡æ–¹ã§å‹•ä½œã—ã¾ã™ã€‚

### ã‚½ãƒ¼ãƒˆ(Sorting)

ã‚ã‚‹ãƒ‘ã‚¹ã«å¯¾ã—ã€ãƒãƒƒãƒã™ã‚‹ãƒ«ãƒ¼ãƒˆ(routes)ã¯è¤‡æ•°ã§ã‚‚æ§‹ã„ã¾ã›ã‚“ã€‚ä¾‹ãˆã°ã€ã“ã‚Œã‚‰ã®ãƒ«ãƒ¼ãƒˆ(routes)ã¯ã©ã‚Œã‚‚ `/foo-abc` ã«ãƒãƒƒãƒã—ã¾ã™:

```bash
src/routes/[...catchall]/+page.svelte
src/routes/[[a]]/foo/+page.svelte
src/routes/[b]/+page.svelte
src/routes/foo-[c]/+page.svelte
src/routes/foo-abc/+page.svelte
```

SvelteKit ã¯ã€ã©ã®ãƒ«ãƒ¼ãƒˆ(route)ã«å¯¾ã—ã¦ãƒªã‚¯ã‚¨ã‚¹ãƒˆã•ã‚Œã¦ã„ã‚‹ã®ã‹ã‚’åˆ¤æ–­ã—ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚ãã®ãŸã‚ã€ä»¥ä¸‹ã®ãƒ«ãƒ¼ãƒ«ã«å¾“ã£ã¦ã“ã‚Œã‚‰ã‚’ã‚½ãƒ¼ãƒˆã—ã¾ã™â€¦

- ã‚ˆã‚Šè©³ç´°ãƒ»æ˜ç¢º(specific)ãªãƒ«ãƒ¼ãƒˆ(routes)ã»ã©ã€ã‚ˆã‚Šå„ªå…ˆåº¦ãŒé«˜ã„ (ä¾‹ãˆã°ã€å‹•çš„ãªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒ1ã¤ã‚ã‚‹ãƒ«ãƒ¼ãƒˆã‚ˆã‚Šã€ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®ãªã„ãƒ«ãƒ¼ãƒˆã®ã»ã†ãŒã‚ˆã‚Šè©³ç´°ãƒ»æ˜ç¢º(specific)ã§ã‚ã‚‹ã€ãªã©)
- [matchers](#matching) ä»˜ãã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ (`[name=type]`) ã¯ matchers ãªã—ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ (`[name]`) ã‚ˆã‚Šã‚‚å„ªå…ˆåº¦ãŒé«˜ã„
- `[[optional]]` ã¨ `[...rest]` ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯ãƒ«ãƒ¼ãƒˆ(route)ã®æœ€å¾Œã®éƒ¨åˆ†ã§ãªã„é™ã‚Šç„¡è¦–ã•ã‚Œã‚‹ (æœ€å¾Œã®éƒ¨åˆ†ã«ãªã£ã¦ã„ã‚‹å ´åˆã¯æœ€ã‚‚ä½ã„å„ªå…ˆåº¦ã¨ã—ã¦æ‰±ã‚ã‚Œã‚‹)ã€‚è¨€ã„æ›ãˆã‚‹ã¨ã€ã‚½ãƒ¼ãƒˆã®ç›®çš„ä¸Šã€`x/[[y]]/z` ã¨ `x/z` ã¯åŒç­‰ã«æ‰±ã‚ã‚Œã‚‹
- å„ªå…ˆåº¦ãŒåŒã˜å ´åˆã¯ã‚¢ãƒ«ãƒ•ã‚¡ãƒ™ãƒƒãƒˆé †ã§è§£æ±ºã•ã‚Œã‚‹

â€¦ã“ã®é †åºã§ä¸¦ã¹ã‚‹ã¨ã€`/foo-abc` ã®å ´åˆã¯ `src/routes/foo-abc/+page.svelte` ã‚’å‘¼ã³å‡ºã—ã€`/foo-def` ã®å ´åˆã¯ `src/routes/foo-[c]/+page.svelte` ã‚’å‘¼ã³å‡ºã—ã¾ã™:

```bash
src/routes/foo-abc/+page.svelte
src/routes/foo-[c]/+page.svelte
src/routes/[[a]]/foo/+page.svelte
src/routes/[b]/+page.svelte
src/routes/[...catchall]/+page.svelte
```

### ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰(Encoding)

ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã§ã¯ä½¿ç”¨ã§ããªã„æ–‡å­—ãŒã‚ã‚Šã¾ã™ â€” Linux ã¨ Mac ã§ã¯ `/`ã€Windows ã§ã¯ `\ / : * ? " < > |` ã§ã™ã€‚URL ã«ãŠã„ã¦ã¯ã€`#` ã¨ `%` ã«ã¯ç‰¹åˆ¥ãªæ„å‘³ãŒã‚ã‚Šã¾ã™ã—ã€SvelteKit ã«ãŠã„ã¦ã¯ `[ ] ( )` ã«ç‰¹åˆ¥ãªæ„å‘³ãŒã‚ã‚Šã¾ã™ã€‚ãã®ãŸã‚ã€ã“ã‚Œã‚‰ã®æ–‡å­—ã‚’ãã®ã¾ã¾ãƒ«ãƒ¼ãƒˆ(route)ã«ä½¿ç”¨ã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚

ã“ã‚Œã‚‰ã®æ–‡å­—ã‚’ãƒ«ãƒ¼ãƒˆ(route)ã«ä½¿ç”¨ã™ã‚‹ã«ã¯ã€16é€²æ•°ã®ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã‚’ä½¿ã„ã¾ã™ã€‚`[x+nn]` ã¨ã„ã†ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§ã€`nn` ã®éƒ¨åˆ†ã¯16é€²æ•°ã®æ–‡å­—ã‚³ãƒ¼ãƒ‰ã§ã™:

- `\` â€” `[x+5c]`
- `/` â€” `[x+2f]`
- `:` â€” `[x+3a]`
- `*` â€” `[x+2a]`
- `?` â€” `[x+3f]`
- `"` â€” `[x+22]`
- `<` â€” `[x+3c]`
- `>` â€” `[x+3e]`
- `|` â€” `[x+7c]`
- `#` â€” `[x+23]`
- `%` â€” `[x+25]`
- `[` â€” `[x+5b]`
- `]` â€” `[x+5d]`
- `(` â€” `[x+28]`
- `)` â€” `[x+29]`

ä¾‹ãˆã°ã€`/smileys/:-)` ã¨ã„ã†ãƒ«ãƒ¼ãƒˆ(route)ã‚’ä½œã‚‹å ´åˆã¯ã€`src/routes/smileys/[x+3a]-[x+29]/+page.svelte` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚

JavaScript ã‚’ä½¿ã£ã¦æ–‡å­—ã®16é€²æ•°ã‚³ãƒ¼ãƒ‰ã‚’åˆ¤å®šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™:

```js
':'.charCodeAt(0).toString(16); // '3a', hence '[x+3a]'
```

ã¾ãŸã€Unicode ã®ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚é€šå¸¸ã€ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã•ã‚Œã¦ã„ãªã„æ–‡å­—ã‚’ç›´æ¥ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã®ã§ã€ã“ã†ã™ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ãŒã€ä½•ã‚‰ã‹ã®ç†ç”±ã§ã€ä¾‹ãˆã°ãƒ•ã‚¡ã‚¤ãƒ«åã«çµµæ–‡å­—ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒã§ããªã„å ´åˆã€ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—æ–‡å­—ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚è¨€ã„æ›ãˆã‚‹ã¨ã€ä»¥ä¸‹ã¯åŒã˜ã“ã¨ã‚’ã—ã¦ã„ã‚‹ã¨ã„ã†ã“ã¨ã§ã™:

```
src/routes/[u+d83e][u+dd2a]/+page.svelte
src/routes/ğŸ¤ª/+page.svelte
```

Unicode ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã¯ `[u+nnnn]` ã§ã€`nnnn` ã®éƒ¨åˆ†ã¯ `0000` ã‹ã‚‰ `10ffff` ã¾ã§ã®é©åˆ‡ãªå€¤ã§ã™ã€‚(JavaScript ã®æ–‡å­—åˆ—ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ã¨ã¯ç•°ãªã‚Šã€`ffff` ä»¥ä¸Šã®ã‚³ãƒ¼ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’è¡¨ç¾ã™ã‚‹ãŸã‚ã«ã‚µãƒ­ã‚²ãƒ¼ãƒˆãƒšã‚¢ã‚’ä½¿ç”¨ã™ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚) Unicode ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã«ã¤ã„ã¦ã‚‚ã£ã¨çŸ¥ã‚ŠãŸã„æ–¹ã¯ã€[Programming with Unicode](https://unicodebook.readthedocs.io/unicode_encodings.html) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

> Since TypeScript [struggles](https://github.com/microsoft/TypeScript/issues/13399) with directories with a leading `.` character, you may find it useful to encode these characters when creating e.g. [`.well-known`](https://en.wikipedia.org/wiki/Well-known_URI) routes: `src/routes/[x+2e]well-known/...`

### Advanced layouts

ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã€ _ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®éšå±¤_ ãŒ _ãƒ«ãƒ¼ãƒˆ(route)ã®éšå±¤_ ã«åæ˜ ã•ã‚Œã¾ã™ã€‚å ´åˆã«ã‚ˆã£ã¦ã¯ã€ãã†ã—ãŸããªã„ã“ã¨ã‚‚ã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚

#### (group)

'ã‚¢ãƒ—ãƒª' ã®ãƒ«ãƒ¼ãƒˆ(routes)ã¨ã—ã¦ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ (ä¾‹ãˆã° `/dashboard` ã‚„ `/item`) ãŒ1ã¤ã‚ã‚Šã€'ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°' ã®ãƒ«ãƒ¼ãƒˆ(routes)ã¨ã—ã¦ã®åˆ¥ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ (`/blog` ã‚„ `/testimonials`) ãŒã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ã“ã‚Œã‚‰ã®ãƒ«ãƒ¼ãƒˆ(routes)ã‚’ã€ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®åå‰ã‚’æ‹¬å¼§ã§ããã‚‹ã“ã¨ã§ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚é€šå¸¸ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¨ã¯ç•°ãªã‚Šã€`(app)` ã‚„ `(marketing)` ã¯ãã‚Œã‚‰ã®ä¸­ã®ãƒ«ãƒ¼ãƒˆ(routes)ã® URL ãƒ‘ã‚¹åã«ã¯å½±éŸ¿ã—ã¾ã›ã‚“:

```diff
src/routes/
+â”‚ (app)/
â”‚ â”œ dashboard/
â”‚ â”œ item/
â”‚ â”” +layout.svelte
+â”‚ (marketing)/
â”‚ â”œ about/
â”‚ â”œ testimonials/
â”‚ â”” +layout.svelte
â”œ admin/
â”” +layout.svelte
```

`+page` ã‚’ `(group)` ã®ä¸­ã«ç›´æ¥é…ç½®ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ (ä¾‹ãˆã°ã€`/` ãŒ `(app)` ã‚„ `(marketing)` ã®ãƒšãƒ¼ã‚¸ã§ã‚ã‚‹ã¹ãå ´åˆãªã©)ã€‚

#### Breaking out of layouts

æœ€ä¸Šä½ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ(root layout)ã¯ã€ã‚¢ãƒ—ãƒªã®å…¨ã¦ã®ãƒšãƒ¼ã‚¸ã«é©ç”¨ã•ã‚Œã¾ã™ã€‚çœç•¥ã—ãŸå ´åˆã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ `<slot />` ã§ã™ã€‚ã‚‚ã—ã€ã„ãã¤ã‹ã®ãƒšãƒ¼ã‚¸ã§ä»–ã®ãƒšãƒ¼ã‚¸ã¨ã¯ç•°ãªã‚‹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆéšå±¤ã‚’æŒã¡ãŸã„å ´åˆã«ã¯ã€ã‚¢ãƒ—ãƒªå…¨ä½“ã‚’1ã¤ã¾ãŸã¯è¤‡æ•°ã®ã‚°ãƒ«ãƒ¼ãƒ—ã«ã—ã¦ã€å…±é€šã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ç¶™æ‰¿ã—ãªã„ãƒ«ãƒ¼ãƒˆ(route)ã‚’åˆ†ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

ä¸Šè¨˜ã®ä¾‹ã§ã€`/admin` ãƒ«ãƒ¼ãƒˆ(route)ã¯ `(app)` ã‚„ `(marketing)` ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ç¶™æ‰¿ã—ã¾ã›ã‚“ã€‚

#### +page@

ãƒšãƒ¼ã‚¸ã¯ã€ãƒ«ãƒ¼ãƒˆ(route)ã”ã¨ã«ç¾åœ¨ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆéšå±¤ã‹ã‚‰æŠœã‘å‡ºã™ã“ã¨ãŒã§ãã¾ã™ã€‚å…ˆã»ã©ã®ä¾‹ã«å‡ºã¦ããŸ `(app)` ã‚°ãƒ«ãƒ¼ãƒ—ã®ä¸­ã«ã€`/item/[id]/embed` ãƒ«ãƒ¼ãƒˆ(route)ãŒã‚ã‚‹ã¨ã—ã¾ã™:

```diff
src/routes/
â”œ (app)/
â”‚ â”œ item/
â”‚ â”‚ â”œ [id]/
â”‚ â”‚ â”‚ â”œ embed/
+â”‚ â”‚ â”‚ â”‚ â”” +page.svelte
â”‚ â”‚ â”‚ â”” +layout.svelte
â”‚ â”‚ â”” +layout.svelte
â”‚ â”” +layout.svelte
â”” +layout.svelte
```

é€šå¸¸ã€ã“ã‚Œã¯æœ€ä¸Šä½ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ(root layout)ã¨ `(app)` ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã¨ `item` ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã¨ `[id]` ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ç¶™æ‰¿ã—ã¾ã™ã€‚`@` ã¨ã€ãã®å¾Œã‚ã«ã‚»ã‚°ãƒ¡ãƒ³ãƒˆå (æœ€ä¸Šä½ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ(root layout)ã®å ´åˆã¯ç©ºæ–‡å­—åˆ—(empty string)) ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã§ã€ã“ã‚Œã‚‰ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®ã©ã‚Œã‹ã«ãƒªã‚»ãƒƒãƒˆã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã®ä¾‹ã§ã¯ã€ä»¥ä¸‹ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‹ã‚‰é¸æŠã§ãã¾ã™:

- `+page@[id].svelte` -  `src/routes/(app)/item/[id]/+layout.svelte` ã‚’ç¶™æ‰¿ã—ã¾ã™
- `+page@item.svelte` - `src/routes/(app)/item/+layout.svelte` ã‚’ç¶™æ‰¿ã—ã¾ã™
- `+page@(app).svelte` - `src/routes/(app)/+layout.svelte` ã‚’ç¶™æ‰¿ã—ã¾ã™
- `+page@.svelte` - `src/routes/+layout.svelte` ã‚’ç¶™æ‰¿ã—ã¾ã™

```diff
src/routes/
â”œ (app)/
â”‚ â”œ item/
â”‚ â”‚ â”œ [id]/
â”‚ â”‚ â”‚ â”œ embed/
+â”‚ â”‚ â”‚ â”‚ â”” +page@(app).svelte
â”‚ â”‚ â”‚ â”” +layout.svelte
â”‚ â”‚ â”” +layout.svelte
â”‚ â”” +layout.svelte
â”” +layout.svelte
```

#### +layout@

ãƒšãƒ¼ã‚¸ã¨åŒã˜ã‚ˆã†ã«ã€åŒã˜æ–¹æ³•ã§ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ _è‡ªä½“_ ã‚’ãã®è¦ªã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®éšå±¤ã‹ã‚‰å¤–ã™ã“ã¨ãŒã§ãã¾ã™ã€‚ä¾‹ãˆã°ã€`+layout@.svelte` ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ãã®å…¨ã¦ã®å­ãƒ«ãƒ¼ãƒˆ(routes)ã®éšå±¤ã‚’ãƒªã‚»ãƒƒãƒˆã—ã¾ã™ã€‚

```
src/routes/
â”œ (app)/
â”‚ â”œ item/
â”‚ â”‚ â”œ [id]/
â”‚ â”‚ â”‚ â”œ embed/
â”‚ â”‚ â”‚ â”‚ â”” +page.svelte  // (app)/item/[id]/+layout.svelte ã‚’ä½¿ç”¨ã—ã¾ã™
â”‚ â”‚ â”‚ â”œ +layout.svelte  // (app)/item/+layout@.svelte ã‚’ç¶™æ‰¿ã—ã¾ã™
â”‚ â”‚ â”‚ â”” +page.svelte    // (app)/item/+layout@.svelte ã‚’ä½¿ç”¨ã—ã¾ã™
â”‚ â”‚ â”” +layout@.svelte   // æœ€ä¸Šä½ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ(root layout)ã‚’ç¶™æ‰¿ã—ã€(app)/+layout.svelte ã‚’ã‚¹ã‚­ãƒƒãƒ—ã—ã¾ã™
â”‚ â”” +layout.svelte
â”” +layout.svelte
```

#### ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚°ãƒ«ãƒ¼ãƒ—ã‚’ä½¿ã†ã¨ãã¯

å…¨ã¦ã®ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ãŒãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã«é©ã—ã¦ã„ã‚‹ã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã—ã€ç„¡ç†ã«ä½¿ç”¨ã™ã‚‹å¿…è¦ã‚‚ã‚ã‚Šã¾ã›ã‚“ã€‚ã‚ãªãŸã®ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ãŒè¤‡é›‘ãª `(group)` ã®ãƒã‚¹ãƒˆã«ãªã£ã¦ã—ã¾ã†ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã—ã€ãŸã£ãŸ1ã¤ã®ä¾‹å¤–ã‚±ãƒ¼ã‚¹ã®ãŸã‚ã« `(group)` ã‚’å°å…¥ã—ãŸããªã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ã‚³ãƒ³ãƒã‚¸ã‚·ãƒ§ãƒ³ (å†åˆ©ç”¨å¯èƒ½ãª `load` é–¢æ•°ã‚„ Svelte ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ) ã‚„ if æ–‡ãªã©ã€ä»–ã®æ‰‹æ®µã‚’ä½¿ç”¨ã—ã¦ã‚„ã‚ŠãŸã„ã“ã¨ã‚’å®Ÿç¾ã™ã‚‹ã®ã¯å…¨ãå•é¡Œã‚ã‚Šã¾ã›ã‚“ã€‚ä»¥ä¸‹ã®ä¾‹ã§ã¯ã€æœ€ä¸Šä½ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ(root layout)ã«æˆ»ã—ã€ä»–ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã§ã‚‚ä½¿ç”¨ã§ãã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚„é–¢æ•°ã‚’å†åˆ©ç”¨ã—ãŸãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ç¤ºã—ã¦ã„ã¾ã™:

```svelte
/// file: src/routes/nested/route/+layout@.svelte
<script>
	import ReusableLayout from '$lib/ReusableLayout.svelte';
	export let data;
</script>

<ReusableLayout {data}>
	<slot />
</ReusableLayout>
```

```js
/// file: src/routes/nested/route/+layout.js
// @filename: ambient.d.ts
declare module "$lib/reusable-load-function" {
	export function reusableLoad(event: import('@sveltejs/kit').LoadEvent): Promise<Record<string, any>>;
}
// @filename: index.js
// ---cut---
import { reusableLoad } from '$lib/reusable-load-function';

/** @type {import('./$types').PageLoad} */
export function load(event) {
	// Add additional logic here, if needed
	return reusableLoad(event);
}
```
